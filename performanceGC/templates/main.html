{% load static %}
<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Genia Performance 360 Pro</title>

  <!-- Favicons -->
  <link rel="shortcut icon" href="{% static 'favicon.png' %}" type="image/x-icon">
  <link href="{% static 'favicon.png' %}" rel="apple-touch-icon" />

  <link rel="stylesheet" href="{% static 'css/styles.css' %}">

  <!-- Vendor CSS Files -->
  <link rel="stylesheet" href="{% static 'vendor/bootstrap/bootstrap.min.css' %}" />
  <link rel="stylesheet" href="{% static 'vendor/bootstrap-icons/bootstrap-icons.min.css' %}" />
  <link rel="stylesheet" href="{% static 'vendor/select2/css/select2.min.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'vendor/datatables/css/dataTables.dataTables.min.css' %}" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />

    <!-- Vendor JS Files -->
  <script src="{% static 'vendor/bootstrap/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'vendor/select2/js/select2.full.min.js' %}"></script>
  <script src="{% static 'vendor/datatables/js/dataTables.min.js' %}"></script>

  <style>
    .ribbon-corner-info {
      position: absolute;
      top: 0;
      left: auto;
      right: 0;
      width: 0;
      height: 0;
      border-top: 32px solid #007bff;
      border-left: 32px solid transparent;
    }

    .ribbon-corner-success {
      position: absolute;
      top: 0;
      left: auto;
      right: 0;
      width: 0;
      height: 0;
      border-top: 32px solid #28a745;
      border-left: 32px solid transparent;
    }

    .ribbon-corner-gray {
      position: absolute;
      top: 0;
      left: auto;
      right: 0;
      width: 0;
      height: 0;
      border-top: 32px solid #6c757d;
      border-left: 32px solid transparent;
    }

    .logo:hover {
      transform: scale(1.1);
      transition: transform 0.2s ease-in-out;
    }

    .logo:not(:hover) {
      transform: scale(1);
      transition: transform 0.2s linear;
    }

    .nav-item-gc:hover .nav-link {
      transform: scale(1.1);

      transition: background-color 0.3s ease, transform 0.2s ease-in-out;
    }

    .nav-item-gc:not(:hover) .nav-link {
      transform: scale(1);


      transition: background-color 0.3s ease, transform 0.2s ease-in-out;
    }

    /* width and height of the scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }

    /* background color of the scrollbar */
    ::-webkit-scrollbar-track {
      background-color: #f1f1f1;
      border-radius: 5px;
    }

    /* color of the scrollbar thumb */
    ::-webkit-scrollbar-thumb {
      background-color: #888;
      border-radius: 5px;
    }

    /* color of the scrollbar thumb on hover */
    ::-webkit-scrollbar-thumb:hover {
      background-color: #555;
      border-radius: 5px;
    }

    /* width and color of the scrollbar for non-webkit-based browsers */
    body {
      scrollbar-width: thin;
      scrollbar-color: #888 #f1f1f1;
      background-image: url('{% static 'MOLECULAS.png' %}');
      background-position: center center;      
      background-size: cover;
      background-attachment: fixed;
      height: 100vh;
    }

    .obj-details:hover{
      background-color: #fafafa;
      transform: scale(1.1);
      transition: transform 0.2s ease-in-out;


    }

  </style>
  </style>
</head>

<body class="bg-image" style="background-color: #f1f1f1; ">
  <!-- BARRA DE NAVEGACION -->
  <nav class="navbar navbar-expand-lg bg-black border-bottom border-bottom-dark py-1 sticky-md-top" >
    <div class="container">
      <a class="navbar-brand  py-0" href="{% url 'index' %}">
        <img src="{% static 'logo.png' %}" alt="GeniaCare" height="40" class="logo">
      </a>
      {% if user.is_authenticated %}
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <!-- <form action="{% url 'search' %}" method="get" class="d-flex me-auto" role="search" data-bs-theme="light">
          <input class="form-control me-2" name="q" type="search" placeholder="Buscar..." aria-label="Search">
          <button class="btn btn-o utline-light bi bi-search" type="submit"></button>
        </form> -->
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item-gc">
            <a class="nav-link text-white fs-5 bi bi-house-door" aria-current="page" href="{% url 'index' %}"> Inicio</a>
          </li>
          <li class="nav-item-gc">
            <a class="nav-link text-white fs-5 bi bi-megaphone" aria-current="page" href="{% url 'announcements' %}"> Anuncios</a>
          </li>
          
          {% if user.is_staff %}
          <li class="nav-item-gc dropdown ">
            <a class="nav-link dropdown-toggle text-white fs-5 bi bi-tools" href="" role="button"
              data-bs-toggle="dropdown" aria-expanded="false">
              Herramientas
            </a>

            <ul class="dropdown-menu" data-bs-theme="dark">

              <li><a class="dropdown-item text-white bi bi-calendar-week" href="/periodos"> Periodos</a></li>
              <li><a class="dropdown-item text-white bi bi-people" href="/search"> Maestro</a></li>

              <li><a class="dropdown-item text-white bi bi-person-add" href="{% url 'newemployee' %}"> Nuevo
                  Empleado</a></li>
              <li><a class="dropdown-item text-white bi bi-card-list" href="{% url 'seeCompetences' %}">
                  Competencias</a></li>
              <li><a class="dropdown-item text-white bi bi-bag" href="{% url 'seeCargos' %}"> Cargos</a></li>
              <li><a class="dropdown-item text-white bi bi-building" href="{% url 'seeGerencias' %}"> Gerencias</a>
              <li><a class="dropdown-item text-white bi bi-diagram-3" href="{% url 'seeDirecciones' %}"> Direcciones</a>
              </li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li>
                <a class="dropdown-item text-white bi bi-gear" href="{% url 'systemparameters' %}"> Parametros del
                  Sistema</a>
              </li>
              {% if user.is_superuser %}

              <li>
                <a class="dropdown-item text-white bi bi-gear" href="/admin"> Panel de Administrador</a>
              </li>
              <li>
                <a class="dropdown-item text-white bi bi-person-plus" href="{% url 'newUser' %}"> Nuevo Usuario</a>
              </li>
              <li>
                <a class="dropdown-item text-white bi bi-person-lines-fill" href="{% url 'users' %}"> Lista de
                  Usuarios</a>
              </li>

              {% endif %}
            </ul>

          </li>
          {% endif %}


          <li class="nav-item-g c dropdown ">
            <a class="nav-link dropdown-toggle text-white fs-5" href="" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              <img
                src="{% if  user.empleado.imagen %} {{ user.empleado.imagen.url }} {% else %} /static/default-avatar.png {% endif %}"
                alt="" class="rounded-circle img-fluid" style="width: 32px; height: 32px; object-fit: cover;">
              {{user.empleado.get_short_name}}
            </a>
            <ul class="dropdown-menu dropdown-menu-end" data-bs-theme="dark">
              <li class="dropdown-header text-white">
                <h6>{{ user.empleado}}</h6>
                <span>{{  user.empleado.cargo }}</span>
              </li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li>
                <a class="dropdown-item text-white" href="{% url 'profile' user.empleado.ficha %}">
                  <i class="bi bi-person-circle"> Mi Perfil</i>
                </a>
              </li>
              <li>
                <a class="dropdown-item text-white" href="{% url 'objectives' user.empleado.ficha %}">
                  <i class="bi bi-percent"> Mis Objetivos</i>
                </a>
              </li>
              <li>
                <a class="dropdown-item text-white bi bi-graph-up-arrow" href="{% url 'competences' %}">
                  Competencias
                </a>
              </li>
              <li>
                <a class="dropdown-item text-white bi bi-people" href="/search"> Colaboradores</a>
              </li>
              
              <li>
                <a class="dropdown-item text-white"
                  href="https://sites.google.com/geniacare.com/guia-telefonica-de-genia-care/p%C3%A1gina-principal"
                  target="_blank">
                  <i class="bi bi-telephone"> Directorio Telefonico </i>
                </a>
              </li>
              <li>
                <a class="dropdown-item text-white bi bi-stack" href="{% url 'companyobjectives' %}">
                  Objetivos de la Empresa
                </a>
              </li>
              <li>
                <a class="dropdown-item text-white bi bi-question-circle" href="{% url 'faq' %}">
                  Preguntas Frecuentes
                </a>
              </li>
              

              <li>
                <a class="dropdown-item text-white bi bi-key" href="/changePassword">
                  Cambiar Contraseña
                </a>
              </li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li>
                <button type="button" class=" dropdown-item text-white bi bi-box-arrow-left" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                  Cerrar Sesion
                </button>
                

              </li>

            </ul>
          </li>

         
        </ul>
      </div>
      {% else %}
      <div class="d-flex flex-grow-1 justify-content-center align-items-center">
        <span class="navbar-text text-center fs-4 text-white w-100">¡Somos genios venezolanos, genios como TÚ!</span>
      </div>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item-gc">
          <a class="nav-link text-white fs-5 bi bi-box-arrow-in-right " aria-current="page" href="{% url 'signin' %}">
            Entrar</a>

        </li>
      </ul>
      {% endif %}
    </div>
  </nav>
  <!-- FIN DE BARRA DE NAVEGACION -->
  <!-- Button trigger modal -->

  {% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
    <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show"
      role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
  </div>
  {% endif %}
  

  {% block content %}

  {% endblock %}

  
</div>


<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-fullscreen-md-down">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Cerrar Sesion</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ¿Estas seguro que deseas cerrar sesion?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <form action="{% url 'signout' %}" method="post">
          {% csrf_token %}
          <button type="submit" class="btn btn-primary">Cerrar Sesion</button>
        </form>

      </div>
    </div>
  </div>
</div>





  <script>
    $(document).ready(function () {
      $('.form-select').select2(
        {
          theme: 'bootstrap-5'
        }
      );
    });
  </script>

  <script>
    $(document).ready(function () {
      $('.datatable').DataTable({
        "language": {
          "lengthMenu": "Mostrar _MENU_ registros por pagina",
          "zeroRecords": "No se encontraron resultados",
          "info": "Mostrando la pagina _PAGE_ de _PAGES_",
          "infoEmpty": "No hay registros disponibles",
          "infoFiltered": "(filtrado de _MAX_ registros totales)",
          "search": "Buscar:",
          "paginate": {
            "first": "Primero",
            "last": "Ultimo",
            "next": "Siguiente",
            "previous": "Anterior"
          }
        }
      });
    });
  </script>




  <script>
    var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
    var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
      return new bootstrap.Popover(popoverTriggerEl)
    })
  </script>

<script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
      })
</script>

</body>

</html>